---
description: è¿›å…¥TDD REDé˜¶æ®µï¼Œç¼–å†™å¤±è´¥çš„æµ‹è¯•
allowed-tools: Bash, Read, Write, Edit
---

## ğŸ”´ REDé˜¶æ®µï¼šç¼–å†™å¤±è´¥æµ‹è¯•

åˆ‡æ¢åˆ°TDD REDé˜¶æ®µï¼Œä¸“æ³¨ç¼–å†™ä¼šå¤±è´¥çš„æµ‹è¯•ç”¨ä¾‹ã€‚

### 1. åˆ‡æ¢åˆ°REDé˜¶æ®µ

é¦–å…ˆæ›´æ–°TDDçŠ¶æ€åˆ°REDé˜¶æ®µï¼š

```bash
bash $CLAUDE_PROJECT_DIR/.claude/scripts/tdd/state-manager.sh update RED "$FEATURE_ID" "ç¼–å†™å¤±è´¥æµ‹è¯•"
```

å¦‚æœæ²¡æœ‰åŠŸèƒ½IDï¼Œç³»ç»Ÿä¼šæç¤ºè®¾ç½®ä¸€ä¸ªã€‚

### 2. æŸ¥çœ‹å½“å‰çŠ¶æ€

```bash
bash $CLAUDE_PROJECT_DIR/.claude/scripts/tdd/state-manager.sh status
```

### 3. REDé˜¶æ®µè§„åˆ™

åœ¨REDé˜¶æ®µï¼Œä½ åªèƒ½ï¼š
- âœ… ç¼–å†™æµ‹è¯•æ–‡ä»¶ (`**/*.test.*`, `**/*.spec.*`, `tests/**/*`)
- âœ… åˆ›å»ºæµ‹è¯•è¾…åŠ©å·¥å…·
- âœ… æ›´æ–°æµ‹è¯•é…ç½®

è¢«é™åˆ¶çš„æ“ä½œï¼š
- âŒ ä¿®æ”¹æºä»£ç æ–‡ä»¶ (`src/**/*`, `lib/**/*`)
- âŒ ä¿®æ”¹ç”Ÿäº§é…ç½®
- âŒ å®ç°ä¸šåŠ¡é€»è¾‘

### 4. æµ‹è¯•ç¼–å†™åŸåˆ™

#### TDDä¸‰æ³•åˆ™
1. åœ¨å†™å‡ºèƒ½å¤Ÿå¤±è´¥çš„å•å…ƒæµ‹è¯•ä¹‹å‰ï¼Œä¸å…è®¸å†™ä»»ä½•äº§å“ä»£ç 
2. åªå…è®¸å†™å‡ºåˆšå¥½èƒ½å¤Ÿå¤±è´¥çš„å•å…ƒæµ‹è¯•ï¼Œä¸èƒ½ç¼–è¯‘ä¹Ÿç®—å¤±è´¥
3. åªå…è®¸å†™å‡ºåˆšå¥½èƒ½å¤Ÿé€šè¿‡å½“å‰å¤±è´¥æµ‹è¯•çš„äº§å“ä»£ç 

#### æµ‹è¯•ç»“æ„ï¼ˆAAAæ¨¡å¼ï¼‰
```javascript
describe('åŠŸèƒ½æè¿°', () => {
  it('åº”è¯¥_æœŸæœ›ç»“æœ_å½“_ç‰¹å®šæ¡ä»¶', () => {
    // Arrange (Given) - å‡†å¤‡æµ‹è¯•æ•°æ®
    const input = { /* test data */ };
    
    // Act (When) - æ‰§è¡Œè¢«æµ‹è¯•æ“ä½œ
    const result = functionUnderTest(input);
    
    // Assert (Then) - éªŒè¯ç»“æœ
    expect(result).toBe(expectedValue);
  });
});
```

### 5. é¡¹ç›®ç‰¹å®šçš„æµ‹è¯•æ¨¡å¼

ç³»ç»Ÿä¼šæ ¹æ®æ£€æµ‹åˆ°çš„é¡¹ç›®ç±»å‹æä¾›å¯¹åº”çš„æµ‹è¯•æ¨¡æ¿ï¼š

- **Java**: JUnit 5 + AssertJ
- **JavaScript/TypeScript**: Jest / Mocha
- **Python**: pytest / unittest
- **Go**: testing package
- **Rust**: built-in test framework

### 6. éªŒè¯æµ‹è¯•å¤±è´¥

ç¼–å†™æµ‹è¯•åï¼Œè¿è¡Œæµ‹è¯•éªŒè¯å…¶æ­£ç¡®å¤±è´¥ï¼š

```bash
# è¿è¡Œæµ‹è¯•ï¼ˆä¼šè‡ªåŠ¨è°ƒç”¨test-runner hookï¼‰
bash $CLAUDE_PROJECT_DIR/.claude/hooks/test-runner.sh
```

### 7. REDé˜¶æ®µå®Œæˆæ ‡å¿—

- [ ] æµ‹è¯•æŒ‰é¢„æœŸå¤±è´¥
- [ ] å¤±è´¥åŸå› æ¸…æ™°æ˜ç¡®
- [ ] æµ‹è¯•è¡¨è¾¾äº†æ­£ç¡®çš„éœ€æ±‚
- [ ] æ²¡æœ‰å®ç°ä»»ä½•ç”Ÿäº§ä»£ç 

### 8. è¿›å…¥ä¸‹ä¸€é˜¶æ®µ

REDé˜¶æ®µå®Œæˆåï¼Œä½¿ç”¨ `/tdd:green` è¿›å…¥GREENé˜¶æ®µå¼€å§‹å®ç°ä»£ç ã€‚

```bash
bash $CLAUDE_PROJECT_DIR/.claude/scripts/tdd/state-manager.sh record "RED phase completed"
```

---
**å½“å‰é˜¶æ®µ**: ğŸ”´ RED | **ä¸“æ³¨**: ç¼–å†™å¤±è´¥æµ‹è¯• | **ä¸‹ä¸€æ­¥**: `/tdd:green`